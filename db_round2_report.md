# DB 候選縮小報告

**會議主題**：縮小候選範圍：挑選 2–3 個最適合的 DB
**會議日期**：2025年9月1日
**與會者**：task-master-ai, sequential-thinking, serena, context7, mcp-openmemory
**參考文件**：`db_round1_report.md`

---

## 1. 會議目標

本次會議旨在根據第一輪的初步評估，從五個候選資料庫中篩選出 2-3 個最適合的方案，以進入下一階段的 PoC (概念驗證) 測試。

---

## 2. 篩選流程與結論

`sequential-thinking` 基於第一輪報告，正式排除了三個選項：
- **MySQL**: 原生向量功能不足，過度依賴廠商。
- **Google Cloud Spanner**: 對於當前專案規模而言，成本過高。
- **MS SQL Server**: 核心功能建立在未經驗證的全新商業版本上，風險太高。

會議一致同意，應將資源集中在以下兩個最成熟、最務實的方案上。

---

## 3. 最終候選名單 (Top 2)

經過對長期維運成本、風險及專案需求契合度的深入分析，我們確定了最終的兩個候選方案：

### **候選一：PostgreSQL (搭配 pgvector)**

- **核心定位**: **查詢能力與靈活性之選**。
- **入選理由**: 它是唯一能完美支援「先透過複雜 SQL 進行精確 Metadata 篩選，再對結果進行向量搜尋」的方案。這與我們業務的核心需求高度契合。雖然需要整合外部對象儲存，但其開源、無廠商鎖定的特性給了我們最高的自主權和成本控制能力。
- **核心權衡**: 以**較高的維運複雜性**換取**查詢的極致靈活性與控制權**。

### **候選二：MongoDB (搭配 Atlas Vector Search)**

- **核心定位**: **架構簡潔與開發效率之選**。
- **入選理由**: 它透過 GridFS 提供了「一站式」的解決方案，將大型檔案、Metadata 和向量整合在單一平台中，極大降低了開發和維運的複雜度。其雲端原生的水平擴展能力讓我們無需擔憂未來的資料增長。
- **核心權衡**: 以**較高的平台費用和廠商鎖定風險**換取**開發與維運的極致便捷性**。

---

## 4. 結論與下一步建議

本次會議成功地將候選範圍從五個縮小到兩個。這兩個方案（PostgreSQL 和 MongoDB）都完全有能力滿足我們的核心需求，但它們代表了兩種不同的架構哲學和資源投入模式。

**最終決策的關鍵問題已清晰化：**

> 我們團隊與專案的未來，是更側重於**應對複雜多變的查詢邏輯**，還是更側重於**簡化維運、加速產品迭代**？

這個問題沒有標準答案，必須透過實際測試來回答。

**下一步行動：**

我們重申並確認第一輪報告的建議：立即啟動一個 PoC 專案，平行測試 **PostgreSQL + S3** 和 **MongoDB Atlas with GridFS** 這兩種架構。PoC 的量化結果（查詢延遲、開發耗時、預估成本等）將是我們做出最終決策的唯一依據。
